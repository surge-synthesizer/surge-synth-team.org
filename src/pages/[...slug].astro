---
import { getCollection } from "astro:content";

import Default from "$layouts/default.astro";
import Nav from "$components/nav.astro";
import ProductCard from "$components/product_card.astro";

export async function getStaticPaths() {
    const pages = await getCollection("pages");
    return pages.map((page) => ({
        params: { slug: page.slug },
        props: { page },
    }));
}

const { page } = Astro.props;
---

<Default title={"Surge Synth Team - " + page.data.title} {...Astro.props}>
    <Nav />
    <ProductCard page={page} />
</Default>
