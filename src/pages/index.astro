---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";
import BaseLayout from "../layouts/BaseLayout.astro";
import Logo from "../images/logo.svg";

const projects = (await getCollection("projects")).sort(
    (a: any, b: any) => a.data.order - b.data.order,
);
---

<BaseLayout title="Surge Synth Team | Projects">
    <header
        class="mx-auto flex gap-2 rounded-md border-1 border-surge-orange/25 bg-white p-2 shadow-md dark:bg-surge-blue/5">
        <Image alt="SST Logo" src={Logo} class="hidden sm:block" />
        <p class="prose text-justify text-sm prose-neutral dark:prose-invert">
            The Surge Synth Team is a group of musicians, developers, testers, documenters, and
            general volunteer open source enthusiasts who randomly assembled to work on the Surge
            Synthesizer. As the Surge project became more successful, and we kept having fun, we
            decided to branch out into other things too!
        </p>
    </header>

    <div class="flex flex-col space-y-4 divide-y divide-surge-orange/25 pt-4">
        {
            projects.map((project: any) => (
                <div class="flex flex-col gap-2 pb-4 last:pb-0">
                    <a class="link text-xl font-semibold" href={project.data.url}>
                        {project.data.title}
                    </a>
                    <a href={project.data.url}>
                        <Image
                            alt={project.data.title}
                            src={project.data.cover}
                            quality="100"
                            format="png"
                            class="rounded-md shadow-md shadow-neutral-800"
                        />
                    </a>
                    <p class="prose self-center text-center text-pretty prose-neutral dark:prose-invert">
                        {project.data.summary}
                    </p>
                </div>
            ))
        }
    </div>
</BaseLayout>
