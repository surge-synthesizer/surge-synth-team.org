---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

import Default from "@layouts/default.astro";
import Header from "@components/header.astro";

const pages = await getCollection("pages");

pages.sort((a, b) => {
    return a.data.order - b.data.order;
});
---

<Default title="Surge Synth Team" {...Astro.props}>
    <Header />

    <div
        class="flex place-content-center bg-gradient-to-b from-neutral-200 to-neutral-50 p-8 text-lg dark:from-neutral-800 dark:to-neutral-900">
        <div class="flex max-w-[600px] flex-col text-center">
            <p>
                The Surge Synth Team is a group of musicians, developers,
                testers, documenters, and general volunteer open source
                enthusiasts who randomly assembled to work on the Surge
                Synthesizer. As the Surge project became more successful, and we
                kept having fun, we decided to branch out into other things too!
            </p>
        </div>
    </div>

    <div
        class="m-auto grid max-w-[1200px] grid-flow-row grid-cols-1 gap-8 px-4 pb-4 md:grid-cols-2">
        {
            pages.map((page) =>
                page.data.order !== 0 ? (
                    <>
                        <div class="grid gap-6 rounded-3xl bg-backgroundCard p-8">
                            <div class="flex flex-col place-content-between gap-4">
                                <h2>
                                    <a
                                        class="no-underline"
                                        href={page.data.url}>
                                        {page.data.title}
                                    </a>
                                </h2>
                                <a href={page.data.url}>
                                    {page.data.cover ? (<Image
                                        class="select-none rounded-xl bg-transparent shadow-xl shadow-neutral-600 dark:shadow-black"
                                        alt={page.data.title}
                                        src={page.data.cover}
                                    />) : ""}
                                </a>
                            </div>
                            <p class="self-end text-center">
                                {page.data.summary}
                            </p>
                        </div>
                    </>
                ) : (
                    ""
                ),
            )
        }
    </div>
</Default>
