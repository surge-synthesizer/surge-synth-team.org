---
import { getCollection } from "astro:content";
import Default from "@layouts/default.astro";
import Header from "@components/header.astro";
import Projects from "@components/projects.astro";
import Card from "@components/card.astro";

const pages = await getCollection("pages");

pages.sort((a, b) => {
    return a.data.order - b.data.order;
});
---

<Default title="Surge Synth Team" {...Astro.props}>
    <Header page="projects" />

    <Projects>
        {
            pages.map((page) =>
                page.data.order !== 0 ? (
                    <Card
                        title={page.data.title}
                        summary={page.data.summary}
                        href={page.data.url}
                        src={page.data.thumbnail}
                    />
                ) : (
                    ""
                ),
            )
        }
    </Projects>
</Default>
